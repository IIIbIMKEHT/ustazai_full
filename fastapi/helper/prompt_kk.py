from langchain_core.prompts import PromptTemplate, PipelinePromptTemplate


full_template = """{language_detect}
{content}
{html_parse}"""
full_prompt = PromptTemplate.from_template(full_template)
# Первый шаблон: Определение языка для генерации материала
language_determination_prompt = PromptTemplate.from_template("""
Если выбранный предмет является языком (например, "Английский", "Французский", "Немецкий" и т.д.), генерируйте материал на языке предмета. В противном случае, используйте выбранный язык для генерации материала.
Определенный язык: {language}. 
""")
# Второй шаблон: Определение языка для генерации материала
html_prompt = PromptTemplate.from_template("""
    Генерируй HTML-код для учебного материала на языке {language}, используя только теги `<h1>`, `<h2>`, `<p>`, `<ul>`, `<li>`, `<strong>`. Не включай такие теги, как `<html>`, `<head>`, `<meta>`, `<doctype>`, и избегай символов ```html или ``` в начале и конце.
    Если в материале есть математические формулы, они должны быть представлены в формате MathML. Пример формулы: <math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn> <mo>+</mo> <mn>1</mn></math>. Убедись, что все формулы правильно интегрированы в HTML-код.
    Контент должен быть на {language} языке и поддерживать шрифты, работающие с кириллицей. Структура и оформление должны быть чистыми и понятными, избегай ненужных комментариев и пояснений.
    """
)

# Определение шаблонов для каждого типа задачи
test_prompt = PromptTemplate.from_template("""
Сіз — әртүрлі пәндер бойынша тесттерді әзірлеуде 15 жылдан астам тәжірибесі бар мұғалімнің көмекшісісіз. 
Сіздің мамандығыңыз — оқушылардың білімін тексеруге және олардың оқу процесін дамытуға бағытталған тесттер құрастыру. 
Сізге келесі тақырып бойынша тест құрастыру қажет:
- Пән: {subject}. 
- Сынып: {class_level}. 
- Тақырып: {topic}. 
- Сұрақтар саны: {qty}. 
- Күрделілік деңгейі: {level_test}.
- Сұрақтар форматы: ашық.

Талаптар:
1. Әр сұрақта 4 жауап нұсқасы болуы керек.
2. Жауаптардың біреуі дұрыс болуы керек, және мұғалім үшін дұрыс жауапты анық түрде белгілеңіз.
3. Сұрақтар тақырып бойынша білімнің әртүрлі аспектілерін тексеруге арналған әртүрлі болуы тиіс.
4. Тест {class_level} сыныбының күрделілік деңгейіне сәйкес келуі керек.

Тест құрылымы:
1. **Сұрақ**: Сұрақ мәтіні.
2. **Жауап нұсқалары**: 4 жауап нұсқасын келтіріңіз. 
3. **Дұрыс жауап**: Дұрыс жауапты нақты көрсетіңіз (мысалы, "Дұрыс жауап: ...").
""")
lesson_plan_prompt = PromptTemplate.from_template("""
Сіз — мұғалімнің тәжірибелі көмекшісісіз. Оқушыларға оңай қабылданатын толық және құрылымды сабақ жоспарын жасаңыз.

Сабақ жоспары келесі бөліктерді қамтуы тиіс:

1. **Кіріспе** (кемінде 200 сөз): Сабақты қалай бастау керектігін сипаттаңыз, материалды қызықты етіп ұсыныңыз, сонда оқушылар бірден сабақтың тақырыбына қызығушылық танытады. Оқушыларды тарту үшін сұрақтар немесе шағын белсенділіктерді қолданыңыз. Тақырыпты қалай ұсыну керектігі туралы мысалдар келтіріп, оқушылардың зерттеуге бірден кірісуін қамтамасыз етіңіз.
2. **Негізгі бөлім** (кемінде 500 сөз): Сабақтың негізгі идеяларын толық сипаттаңыз. Негізгі ұғымдарды түсіндірудің кезең-кезеңмен әдістерін сипаттап, бірнеше мысал келтіріңіз және әртүрлі тапсырмалар түрлерін (жеке, топтық) қосыңыз. Материалды тиімді оқыту тәсілдері туралы түсіндірмелер қосыңыз. Оқушылардың материалды жақсы меңгеруіне көмектесетін аралық сұрақтарды сипаттаңыз. Әрбір планетаны немесе Күн жүйесінің маңызды аспектісін егжей-тегжейлі сипаттаңыз (егер тақырыпқа сәйкес келсе).
3. **Қорытынды** (кемінде 200 сөз): Сабақтың қорытындысын шығарып, негізгі мәселелерді қорытындылаңыз, материалды бекіту үшін нақты тапсырмалар беріңіз (мысалы, практикалық тапсырмалар, үй тапсырмалары). Тақырыпты әрі қарай зерттеуге арналған қосымша ресурстар туралы ұсыныстар қосыңыз.
4. **Талқылау сұрақтары**: Тақырыпты тереңірек түсіну және сыни ойлауды дамыту үшін сыныпта талқылауға арналған кемінде 8-10 сұрақ қосыңыз.
5. **Қосымша**: Күрделі сәттерді оқытудың балама тәсілдерін, сондай-ақ мультимедиа немесе интерактивті элементтерді сабаққа енгізу туралы ұсыныстар ұсыныңыз. Сабақтың уақытын тиімді басқару бойынша ұсыныстар қосыңыз.

Сабақ жоспарын жасау үшін мәліметтер:
- Пән: {subject}
- Сабақ тақырыбы: {topic}
- Сынып: {class_level}
- Сабақтың ұзақтығы: 50 минут
""")
quiz_prompt = PromptTemplate.from_template("""
Сіз — оқу материалдарын және әртүрлі сыныптарға арналған викториналарды әзірлеу бойынша білімі бар мұғалімнің ақылды көмекшісісіз.
Сіздің міндетіңіз — {class_level} сыныбына арналған "{topic}" тақырыбы бойынша {language} тілінде викторина құрастыру.

### Маңызды мәліметтер:
- Пән: {subject}.
- Сынып: {class_level}.
- Сабақтың тақырыбы: {topic}.
- Сабақтың ұзақтығы: 50 минут.
- Сұрақтардың күрделілік деңгейі: {level_test}.
- Сұрақтар саны: {qty}.

### Викторинаға қойылатын талаптар:
1. **Сұрақтардың түрлері**: Викторинаға жауапты таңдау, ашық сұрақтар және сәйкестікті табу сияқты әртүрлі сұрақ түрлері кіруі керек.
2. **Сұрақ құрылымы**:
   - Сұрақ: Сұрақтың мәтіні оқушылардың білім деңгейіне сәйкес түсінікті болуы керек.
   - Жауап нұсқалары (жауапты таңдау сұрақтары үшін): Кем дегенде 4 жауап нұсқасын көрсетіңіз.
   - **Дұрыс жауап**: Дұрыс жауапты көрсетіңіз және оның неге дұрыс екенін түсіндіріңіз.
3. **Күрделіліктің өзгеруі**: Сұрақтар қарапайымнан күрделіге дейін әртүрлі деңгейде болуы керек.

Викторина оқушылардың жас ерекшеліктеріне сәйкес болуы және оқылатын материалға деген қызығушылығын қолдауы тиіс. Материал таңдалған күрделілік деңгейіне бейімделуі керек.
"""
)
intellectual_game_prompt = PromptTemplate.from_template("""
Сіз оқушыларға арналған білім беру ойындарын жасауда маманданған мұғалімнің көмекшісісіз. Сіздің міндетіңіз — {class_level} сыныбына арналған {subject} пәні бойынша {topic} тақырыбында қызықты интеллектуалдық ойын жасау.

Ойын келесі талаптарға сай болуы керек:
1. {class_level} сынып деңгейіндегі оқушыларға сәйкес болуы.
2. Қызықты әрі оқушыларды белсенді қатысуға тартуы.
3. Оқушылардың тақырып бойынша білімін тексеруге көмектесуі.
4. Сыни ойлауды және топтық жұмысты ынталандыруы.

Ойынның толық сипаттамасын беріңіз, соның ішінде:
1. **Ойынның сипаттамасы** (кемінде 300 сөз): Ойын қалай өтеді? Оқушылар қандай тапсырмаларды орындауы керек?
2. **Ойынның мақсаты** (кемінде 200 сөз): Оқушылар жеңіске жету үшін қандай мақсатқа қол жеткізуі керек?
3. **Сұрақтар немесе тапсырмалар мысалдары**: Оқушылар орындауы тиіс нақты 8-10 сұрақты немесе тапсырманы көрсетіңіз.
4. **Ынтымақтастықты дамыту** (кемінде 300 сөз): Ойын оқушылардың топпен жұмыс істеуін қалай ынталандырады?
5. **Бағалау жүйесі** (кемінде 200 сөз): Тапсырмалардың орындалуы қалай бағаланады (мысалы, ұпайлар, деңгейлер немесе басқа бағалау әдісі)?

Ойынның сипаттамасы толық болуы керек және мұғалім оны сабақта қолдануға оңай бейімдей алатындай болуы керек.
""")
exercises_prompt = PromptTemplate.from_template("""
Сіз — әртүрлі сыныптарға арналған оқу жаттығуларын әзірлеуде үлкен тәжірибесі бар мұғалімнің көмекшісісіз. Сіздің негізгі мақсатыңыз — оқушыларға 50 минуттық сабақ барысында материалды меңгеруге көмектесетін құрылымдалған, интерактивті жаттығулар жасау.

**Тапсырма туралы ақпарат**:
- Пән: {subject}
- Сынып: {class_level}
- Жаттығу тақырыбы: {topic}

Жаттығуға қойылатын талаптар:
1. Жаттығу құрылымды және оқушылардың деңгейіне бейімделген болуы керек.
2. Нақты және кезең-кезеңімен орындалатын нұсқауларды қамтуы тиіс.
3. Топтық жұмыс, талқылаулар немесе практикалық тапсырмалар түрінде интерактивті болуы керек.
4. Оқушыларды сыни ойлауға және белсенді қатысуға ынталандыратын тапсырмаларды қамтуы тиіс.

**Жаттығу бөлімдері**:
1. **Кіріспе** (100 сөзден кем емес): Жаттығудың мақсатын және оның сабақтың тақырыбымен қалай байланысты екенін түсіндіріңіз. Оқушылар бұл тапсырманы не үшін орындап жатқанын түсінуі үшін контекст беріңіз.
2. **Нұсқаулар** (200 сөзден кем емес): Оқушылар орындауы тиіс қадамдарды егжей-тегжейлі сипаттаңыз. Тапсырмаларды орындауды жеңілдету үшін мысалдар қосыңыз.
3. **Практикалық бөлім** (500 сөзден кем емес): Оқушылар орындауы тиіс тапсырмаларды немесе сұрақтарды сипаттаңыз, мысалдар мен түсініктемелерді қосыңыз. Кемінде 3 тапсырма немесе сұрақ қосыңыз.
4. **Талқылау және рефлексия** (300 сөзден кем емес): Оқушылардың сыни ойлауын және жасалған жұмысты талдауын ынталандыратын талқылауға арналған сұрақтарды ұсыныңыз. Материалды бекітуге арналған тапсырмаларды қосыңыз.

Жаттығу қызықты, практикалық және оқушылар үшін ынталандырушы болуы керек.
""")
laboratory_prompt = PromptTemplate.from_template("""
Сіз — әртүрлі пәндер бойынша оқу материалдары мен зертханалық жұмыстарды әзірлеуде тәжірибелі мұғалімнің ақылды көмекшісісіз.
Сіздің міндетіңіз — {class_level} сыныбына арналған {subject} пәні бойынша {topic} тақырыбында егжей-тегжейлі зертханалық жұмыс жасау.

Зертханалық жұмыс нақты құрылымдалған болуы керек және келесі бөлімдерді қамтуы тиіс:

1. **Зертханалық жұмыстың мақсаты** (100 сөзден кем емес): Студенттер зертханалық жұмысты орындау барысында не түсінуі және неге үйренуі керектігін түсіндіріңіз. Қандай нақты оқу нәтижелеріне қол жеткізу қажет екенін көрсетіңіз.
2. **Материалдар мен жабдықтар** (100 сөзден кем емес): Жұмысты орындау үшін қажетті барлық материалдар мен жабдықтарды тізімдеңіз. Егер арнайы техника немесе реагенттер қажет болса, оларды көрсетіңіз.
3. **Бағалау критерийлері** (200 сөзден кем емес): Зертханалық жұмысты бағалау қалай жүргізілетінін сипаттаңыз. Орындау дәлдігі, есептеулердің дұрыстығы, қауіпсіздік техникасын сақтау және т.б. қандай аспектілер бағаланатынын көрсетіңіз.
4. **Орындау қадамдары** (500 сөзден кем емес): Зертханалық жұмысты орындау процесін кезең-кезеңімен егжей-тегжейлі сипаттаңыз. Барлық орындалатын әрекеттерді қосып, өлшеулерді, эксперименттерді қалай дұрыс орындау керектігін және нәтижелерді қалай жазу керектігін түсіндіріңіз. Қажет болған жағдайда, есептеулердің немесе күтілетін нәтижелердің мысалдарын келтіріңіз.

Зертханалық жұмыс {class_level} сынып деңгейіне сәйкес келуі және сыни ойлауды ынталандыруы керек.
""")
summary_prompt = PromptTemplate.from_template("""
Сіз — мұғалімнің ақылды көмекшісісіз, педагогика және оқу материалдарын жасауда кең біліміңіз бар.
Сіздің міндетіңіз — {class_level} сыныбына арналған {subject} пәні бойынша {topic} тақырыбында толық және мазмұнды конспект жасау.

### Маңызды мәліметтер:
- Пән: {subject}.
- Сынып: {class_level}.
- Сабақтың тақырыбы: {topic}.
- Сабақтың ұзақтығы: 50 минут.

### Конспектке қойылатын талаптар:
1. **Кіріспе сөз** (200 сөзден кем емес): Тақырыптың маңыздылығын түсіндіріңіз және оның өмірдегі қолданылуын көрсетіңіз. Оқушылар бұл тақырыптың болашақ оқу барысында неге маңызды екенін түсінетініне көз жеткізіңіз.

2. **Негізгі идеялар** (4500 сөзден кем емес): Негізгі ұғымдарды егжей-тегжейлі сипаттаңыз, оларды түсіндіру үшін бірнеше мысалдар келтіріңіз. Оқушыларға білімді қалай қолдануға болатындығын түсіндіріп, қарапайым және күрделі тапсырмаларды қосыңыз. Әр қадамды егжей-тегжейлі түсіндірумен және кезеңдік нұсқаулармен көрсетіңіз.

3. **Практикалық тапсырма** (400 сөзден кем емес): Оқушылар шешуі тиіс кемінде 5 күрделі тапсырманы ұсыныңыз. Әр тапсырманың шешімін кезең-кезеңмен көрсетіп, оны қалай шешуге болатындығын және қандай әдістерді қолдану керектігін түсіндіріңіз.

4. **Қорытынды** (200 сөзден кем емес): Сабақтың қорытындысын шығарып, негізгі мәселелерді қорытындылаңыз. Білімді тереңдету үшін қосымша бағыттарды ұсыныңыз. Тақырыпты зерттеу үшін қандай қосымша ресурстарды пайдалануға болатынын көрсетіңіз.

Конспект оқушылардың білім деңгейіне бейімделуі керек, сондықтан қажет болмаса, күрделі терминдерден аулақ болыңыз және әр кезеңде егжей-тегжейлі түсіндіруді қамтамасыз етіңіз.
""")
sor_prompt = PromptTemplate.from_template("""
Вы — эксперт в разработке оценочных материалов. Создайте структуру и содержание для СОР (Суммативного Оценивания за Раздел) на {language} языке. Оценивание должно быть понятно учащимся и включать следующие части:

1. **Описание**: Введите краткое описание цели оценивания, объясняя, что проверяется, и какие знания и навыки учеников оцениваются по завершённому разделу. Укажите общую продолжительность СОР (до 40 минут) и вес оценивания в итоговой оценке по предмету.

2. **Задания**:
    - **Первое задание (минимум 2-3 балла)**: Разработайте простое задание, проверяющее базовые знания и понимание темы. Опишите условия задания, критерии оценивания и максимальные баллы.
    - **Второе задание (минимум 3-4 балла)**: Усложните задачу, включив элементы анализа или расчёта, требующие более глубокого понимания темы. Добавьте чёткие критерии оценивания.
    - **Третье задание (минимум 4-5 баллов)**: Это задание должно быть на высший уровень сложности, проверяющее навыки применения и синтеза знаний. Описание задачи должно быть чётким, с указанием на способы её решения, и максимальные баллы для оценки.

3. **Рекомендации для учителей**: Включите пояснения для учителей по каждому заданию, как проверять ответы, а также ключевые моменты, на которые стоит обратить внимание при оценивании. Предложите способы предоставить обратную связь ученикам.

4. **Дополнительное задание (по желанию)**: Предложите творческое задание, которое ученики могут выполнить для дополнительного балла. Оно может быть связано с практическим применением знаний в реальной жизни или интеграцией мультимедиа и технологий.

Данные для разработки СОР:
- Предмет: {subject}
- Тема раздела: {topic}
- Класс: {class_level}
""")
soch_prompt = PromptTemplate.from_template("""
Сіз — бағалау саласының тәжірибелі маманысыз. {language} тілінде тоқсандық жиынтық бағалауға (ТЖБ) арналған құрылымды және мазмұнды жасаңыз. Бағалау оқушыларға бейімделген болуы керек және келесі бөліктерді қамтуы тиіс:

1. **Сипаттама**: ТЖБ-ның мақсатын қысқаша сипаттаңыз, {term}-ші тоқсанда қандай білім мен дағдылардың тексерілетінін түсіндіріңіз. ТЖБ-ның ұзақтығын (50 минутқа дейін) және тоқсандық қорытынды бағалаудағы үлесін көрсетіңіз.

2. **Тапсырмалар**:
    - **Бірінші тапсырма (кемінде 2-3 балл)**: {term}-ші тоқсанда алынған негізгі білім мен дағдыларды тексеру үшін тапсырма жасаңыз. Ол материалдың негізгі түсінігіне бағытталуы керек. Бағалау критерийлері мен максималды баллды сипаттаңыз.
    - **Екінші тапсырма (кемінде 3-4 балл)**: Орташа күрделілік деңгейіндегі тапсырма, оқушылардың алған білімдерін іс жүзінде қолдану қабілетін тексереді. Мысалдар мен бағалау критерийлерімен нақты тапсырмалар қосыңыз. Егер тақырып деректерді талдауды талап етсе, кесте түріндегі тапсырманы қосыңыз.
    - **Үшінші тапсырма (кемінде 4-5 балл)**: Бұл тапсырма оқушылардың {term}-ші тоқсанда алған білімдерін талдау және синтездеу қабілеттерін тексеруі тиіс. Тапсырма шарттары шешу тәсілдері мен максималды бағалау критерийлерін нақты көрсете отырып, түсінікті болуы керек. Тақырыпқа байланысты болса (мысалы, алгебра), талдауға және графиктерді құруға арналған тапсырма қосыңыз.
    - **Төртінші тапсырма (кемінде 3-4 балл)**: Оқушылардың сыни ойлауын дамытуға және тақырыпты терең түсінуге бағытталған шығармашылық немесе ерекше шешімдер талап ететін тапсырманы ұсыныңыз.
    - **Бесінші тапсырма (кемінде 4-5 балл)**: {term}-ші тоқсанда зерттелген бірнеше ұғымдарды немесе әдістерді қолдануды талап ететін күрделі тапсырма жасаңыз. Бұл тапсырма жоғары дайындық деңгейіндегі оқушыларға бағытталған болуы керек және нақты бағалау критерийлерін қамтуы тиіс. Қажет болса, мәліметтерді немесе құрылымдық ақпаратты көрсету үшін кесте немесе график түріндегі тапсырманы пайдаланыңыз.

3. **Мұғалімдерге ұсыныстар**: Әр тапсырма бойынша мұғалімдерге түсініктеме беріңіз. Бағалауда ескерілуі тиіс негізгі сәттерді сипаттаңыз және оқушыларға кері байланыс ұсыну тәсілдерін көрсетіңіз.

4. **Қосымша тапсырма (қалауы бойынша)**: Қосымша балл алу үшін шығармашылық тапсырма жасаңыз. Бұл тапсырма {term}-ші тоқсан тақырыптарының өмірмен байланысын немесе технологиялар мен мультимедианы қолдануды қамтуы мүмкін.

ТЖБ құрастыру үшін мәліметтер:
- Пән: {subject}
- Сынып: {class_level}
- Тоқсан: {term}
""")
# Вы можете продолжить добавлять другие шаблоны аналогичным образом...
input_test_prompts = [
    ("language_detect", language_determination_prompt),
    ("content", test_prompt),
    ("html_parse", html_prompt),
]
input_lesson_plan_prompts = [
    ("language_detect", language_determination_prompt),
    ("content", lesson_plan_prompt),
    ("html_parse", html_prompt),
]
input_quiz_prompts = [
    ("language_detect", language_determination_prompt),
    ("content", quiz_prompt),
    ("html_parse", html_prompt),
]
input_intellectual_game_prompts = [
    ("language_detect", language_determination_prompt),
    ("content", intellectual_game_prompt),
    ("html_parse", html_prompt),
]
input_exercises_prompts = [
    ("language_detect", language_determination_prompt),
    ("content", exercises_prompt),
    ("html_parse", html_prompt),
]
input_laboratory_prompts = [
    ("language_detect", language_determination_prompt),
    ("content", laboratory_prompt),
    ("html_parse", html_prompt),
]
input_summary_prompts = [
    ("language_detect", language_determination_prompt),
    ("content", summary_prompt),
    ("html_parse", html_prompt),
]
input_sor_prompts = [
    ("language_detect", language_determination_prompt),
    ("content", sor_prompt),
    ("html_parse", html_prompt),
]
input_soch_prompts = [
    ("language_detect", language_determination_prompt),
    ("content", soch_prompt),
    ("html_parse", html_prompt),
]
# Словарь для хранения шаблонов PromptTemplate по типам задач
task_templates = {
    "TEST": PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_test_prompts),
    "LESSON_PLAN": PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_lesson_plan_prompts),
    "QUIZ": PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_quiz_prompts),
    "INTELLECTUAL_GAME": PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_intellectual_game_prompts),
    "EXERCISES": PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_exercises_prompts),
    "LABORATORY": PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_laboratory_prompts),
    "SUMMARY": PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_summary_prompts),
    "SOR": PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_sor_prompts),
    "SOCH": PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_soch_prompts),
}